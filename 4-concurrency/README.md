# 4 concurrency

## Exercise 4.1 - Special Map

1. Implement a program in specialmap/specialmap.go that provokes a crash by writing/reading into the SpecialMap simultaneously.


Hint: For example use multiple goroutines with loops (or the other way round) that are manipulating the same map.

Run you example and analyze the panic message on the console.


2. Use `go run -race` to discover the problem

3. Does does recover work here? why?

4. Implement (RW)locking for SpecialMap to prevent race conditions


## Exercise 4.2 - Multiplex & Timeouts

1. Implement the function `collect` in worker/worker.go such that all messages generated by workers are
passed to the channel sequentially.

2. Make sure collect sends a message "Timeout" if none of the worker responds within 500ms.

3. Is it possible to implement collect without the "select" statement?